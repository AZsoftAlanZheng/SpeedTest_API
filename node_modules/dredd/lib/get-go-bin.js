// Generated by CoffeeScript 1.12.6
var childProcess, getGoBin, path;

path = require('path');

childProcess = require('child_process');

getGoBin = function(callback) {
  var goBin;
  goBin = process.env.GOBIN;
  if (goBin) {
    return process.nextTick(function() {
      return callback(null, goBin);
    });
  } else {
    if (process.env.GOPATH) {
      return process.nextTick(function() {
        return callback(null, path.join(process.env.GOPATH, 'bin'));
      });
    } else {
      return childProcess.exec('go env GOPATH', function(err, stdout) {
        if (err) {
          return callback(err);
        }
        return callback(null, path.join(stdout.trim(), 'bin'));
      });
    }
  }
};

module.exports = getGoBin;
