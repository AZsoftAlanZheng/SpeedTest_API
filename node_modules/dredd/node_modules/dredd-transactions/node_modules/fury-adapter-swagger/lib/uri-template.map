{"version":3,"sources":["uri-template.js"],"names":["basePath","href","pathObjectParams","queryParams","parameterNames","chain","concat","filter","parameter","in","uniqBy","name","map","escapeUriTemplateVariable","collectionFormat","value","length","queryString","join","variable","encodeURIComponent","replace","c","charCodeAt","toString"],"mappings":";;;;;;kBAOe,UAAUA,QAAV,EAAoBC,IAApB,EAAmE;AAAA,MAAzCC,gBAAyC,uEAAtB,EAAsB;AAAA,MAAlBC,WAAkB,uEAAJ,EAAI;;AAChF,MAAMC,iBAAiB,iBAAEC,KAAF,CAAQH,gBAAR,EACpBI,MADoB,CACbH,WADa,EAEpBI,MAFoB,CAEb;AAAA,WAAaC,UAAUC,EAAV,KAAiB,OAA9B;AAAA,GAFa,EAGpBC,MAHoB,CAGb;AAAA,WAAaF,UAAUG,IAAvB;AAAA,GAHa,EAIpBC,GAJoB,CAIhB,UAACJ,SAAD,EAAe;AAClB,QAAMG,OAAOE,0BAA0BL,UAAUG,IAApC,CAAb;;AAEA,QAAIH,UAAUM,gBAAV,KAA+B,OAAnC,EAA4C;AAC1C,aAAUH,IAAV;AACD;;AAED,WAAOA,IAAP;AACD,GAZoB,EAapBI,KAboB,EAAvB;;AAeA,MAAIX,eAAeY,MAAf,GAAwB,CAA5B,EAA+B;AAC7B,QAAMC,cAAcb,eAAec,IAAf,CAAoB,GAApB,CAApB;AACA,gBAAUlB,QAAV,GAAqBC,IAArB,UAA8BgB,WAA9B;AACD;;AAED,SAAOjB,WAAWC,IAAlB;AACD,C;;AA7BD;;;;;;AAEA,SAASY,yBAAT,CAAmCM,QAAnC,EAA6C;AAC3C,SAAOC,mBAAmBD,QAAnB,EACJE,OADI,CACI,aADJ,EACmB;AAAA,iBAASC,EAAEC,UAAF,CAAa,CAAb,EAAgBC,QAAhB,CAAyB,EAAzB,CAAT;AAAA,GADnB,CAAP;AAED","file":"uri-template.js","sourcesContent":["import _ from 'lodash';\n\nfunction escapeUriTemplateVariable(variable) {\n  return encodeURIComponent(variable)\n    .replace(/[-.!~*'()]/g, c => `%${c.charCodeAt(0).toString(16)}`);\n}\n\nexport default function (basePath, href, pathObjectParams = [], queryParams = []) {\n  const parameterNames = _.chain(pathObjectParams)\n    .concat(queryParams)\n    .filter(parameter => parameter.in === 'query')\n    .uniqBy(parameter => parameter.name)\n    .map((parameter) => {\n      const name = escapeUriTemplateVariable(parameter.name);\n\n      if (parameter.collectionFormat === 'multi') {\n        return `${name}*`;\n      }\n\n      return name;\n    })\n    .value();\n\n  if (parameterNames.length > 0) {\n    const queryString = parameterNames.join(',');\n    return `${basePath}${href}{?${queryString}}`;\n  }\n\n  return basePath + href;\n}\n"]}